jQuery(function(o){function e(){var o=jQuery(window).scrollTop(),e="no";jQuery(".panel-row-style").each(function(){var t="#"+jQuery(this).attr("id"),i=jQuery(this).offset().top-1,n=jQuery(this).outerHeight(),a=i-s,r=i+n-s;return o>=a&&o<=r?(e="yes",jQuery("#site-navigation .current").removeClass("current"),jQuery('#site-navigation a[href$="'+t+'"]').parent("li").addClass("current"),!1):void("no"===e&&jQuery("#site-navigation .current").removeClass("current"))})}o.fn.siteoriginCorpIsVisible=function(){var o=this[0].getBoundingClientRect();return o.bottom>=0&&o.right>=0&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)};var t={x:0,y:0};if(o(document).mousemove(function(o){t={x:o.pageX,y:o.pageY}}),"undefined"!=typeof o.fn.fitVids&&o(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),o(document).ready(function(){o(".flexslider").each(function(){o(this).flexslider({animation:"slide",customDirectionNav:o(this).find(".flex-direction-nav a"),start:function(){o(".flexslider .slides img").show()}})})}),o("body.no-js").removeClass("no-js"),o("body").hasClass("css3-animations")){var i=function(){o(".main-navigation ul ul").each(function(){var e=o(this),t=Math.max.apply(Math,e.find("> li:not(.mini_cart_item) > a").map(function(){return o(this).width()}).get());e.find("> li > a").width(t)})};i(),o(window).resize(i),o(".menu-item").children("a").focus(function(){o(this).parents("ul, li").addClass("focus")}),o(".menu-item").children("a").click(function(){o(this).parents("ul, li").removeClass("focus")}),o(".menu-item").children("a").focusout(function(){o(this).parents("ul, li").removeClass("focus")})}jQuery(document).ready(function(o){window.location.hash||(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o(window).scroll(function(){o("#site-navigation ul li").hasClass("current")&&o("#site-navigation li").removeClass("current-menu-item")}))});var s,n=o("#wpadminbar").outerHeight(),a=o("body").hasClass("admin-bar"),r=o("header").hasClass("sticky");s=r&&a&&jQuery(window).width()>600?n+o("header").outerHeight()-1:r?o("header").outerHeight()-1:0,o.fn.siteoriginCorpSmoothScroll=function(){o("body").hasClass("disable-smooth-scroll")||o(this).click(function(o){var e=this.hash,t=e.substring(1),i=this;if(jQuery(".panel-grid [id*="+t+"]").length>0?(jQuery("#site-navigation .current").removeClass("current"),jQuery(i).parent("li").addClass("current")):jQuery("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=jQuery(this.hash);if(n=n.length?n:jQuery("[name="+this.hash.slice(1)+"]"),n.length)return jQuery("html, body").animate({scrollTop:n.offset().top-s},1200),!1}})},jQuery(window).load(function(){o('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .corp-scroll[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),jQuery(window).load(function(){if(location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var o=jQuery(window.location.hash);if(o.length)return jQuery("html, body").animate({scrollTop:o.offset().top-s},0),!1}}),jQuery(window).on("scroll",e);var l=!1;o("#mobile-menu-button").click(function(e){e.preventDefault();var t=o(this);if(t.toggleClass("to-close"),l===!1){l=o("<div></div>").append(o(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide(),l.find("#primary-menu").show().css("opacity",1),l.find(".menu-item-has-children > a").addClass("has-dropdown"),l.find(".page_item_has_children > a").addClass("has-dropdown"),l.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-angle-down" aria-hidden="true"></i></button>'),l.find(".dropdown-toggle").click(function(e){e.preventDefault(),o(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),l.find(".has-dropdown").click(function(e){"undefined"!=typeof o(this).attr("href")&&"#"!=o(this).attr("href")||(e.preventDefault(),o(this).siblings(".dropdown-toggle").trigger("click"))});var i=function(){if(o("#masthead").hasClass("sticky")){var e="fixed"===o("#wpadminbar").css("position")?o("#wpadminbar").outerHeight():0,t=o("#masthead").innerHeight(),i=o(window).height()-t-e;o("#mobile-navigation").css("max-height",i)}};i(),o(window).resize(i),o("#mobile-navigation").scroll(i)}l.slideToggle("fast"),o("#mobile-navigation a").click(function(e){(!o(this).hasClass("has-dropdown")||"undefined"!=typeof o(this).attr("href")&&"#"!==o(this).attr("href"))&&l.is(" :visible")&&l.slideUp("fast"),t.removeClass("to-close")}),o('#mobile-navigation a[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),o("#search-button").click(function(e){e.preventDefault();var t=o(this);t.toggleClass("close-search"),o("input[type='search']").each(function(){o(this).attr("size",o(this).attr("placeholder").length)});var i=function(){var e=o(window).width(),t=o(window).height();o("#fullscreen-search").css({height:t+"px",width:e+"px"})};i(),o(window).resize(i),t.hasClass("close-search")?(o("body").css("margin-right",window.innerWidth-o("body").width()+"px"),o("body").css("overflow","hidden")):(o("body").css("overflow",""),o("body").css("margin-right","")),o("#fullscreen-search").slideToggle("fast"),o("#fullscreen-search input").focus()}),o("#fullscreen-search-form").submit(function(){o(this).find("button svg").hide(),o(this).find("button svg:last-child").show()}),o("#fullscreen-search #search-close-button").click(function(e){e.preventDefault(),o("#search-button.close-search").trigger("click")}),o(document).keyup(function(e){27===e.keyCode&&o("#search-button.close-search").trigger("click")});var c=function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>o("#masthead").outerHeight()?o("#scroll-to-top").hasClass("show")||o("#scroll-to-top").css("pointer-events","auto").addClass("show"):o("#scroll-to-top").hasClass("show")&&o("#scroll-to-top").css("pointer-events","none").removeClass("show")};if(c(),o(window).scroll(c),o("#scroll-to-top").click(function(){o("html, body").animate({scrollTop:0})}),o("#masthead").hasClass("sticky")){var d=!1,h=o("#masthead"),u=o("#topbar"),f=o('#topbar .woocommerce-store-notice[style*="display: none"]'),g=function(){o("body").hasClass("mobile-header-ns")&&o(window).width()<siteoriginCorp.collapse||(d===!1&&(d=o('<div class="masthead-sentinel"></div>').insertAfter(h),d.css("height",h.outerHeight())),o("body").hasClass("no-topbar")||u.siteoriginCorpIsVisible()||o("body").addClass("topbar-out"),u.length&&o("body").hasClass("topbar-out")&&u.siteoriginCorpIsVisible()&&o("body").removeClass("topbar-out"),o("body").hasClass("no-topbar")&&!o(window).scrollTop()&&o("body").addClass("topbar-out"),o("body").hasClass("no-topbar")||!o("body").hasClass("no-topbar")&&o("body").hasClass("topbar-out")||f.length?h.css("position","fixed"):o("body").hasClass("no-topbar")||o("body").hasClass("topbar-out")||h.css("position","absolute"))};g(),o(window).resize(g).scroll(g);var p=function(){o(window).scrollTop()>0?o(h).addClass("stuck"):o(h).removeClass("stuck")};p(),o(window).scroll(p);var m={top:parseInt(h.css("padding-top")),bottom:parseInt(h.css("padding-bottom"))};if(h.data("scale-logo")){var w=h.find(".site-branding img"),b=w.width(),y=w.height();scaledWidth=b*siteoriginCorp.logoScale,scaledHeight=y*siteoriginCorp.logoScale;var v=function(){var e=h.find(".site-branding > *"),t=window.pageYOffset||document.documentElement.scrollTop;if(t>0?h.css({"padding-top":m.top*siteoriginCorp.logoScale,"padding-bottom":m.bottom*siteoriginCorp.logoScale}).addClass("stuck"):h.css({"padding-top":m.top,"padding-bottom":m.bottom}).removeClass("stuck"),w.length){if(w.height()!=scaledHeight||w.width()!=scaledWidth){var i=siteoriginCorp.logoScale+Math.max(0,48-t)/48*(1-siteoriginCorp.logoScale);o(".site-branding img").css({width:b*i,height:y*i,"max-width":"none"})}}else t>0?e.css("transform","scale("+siteoriginCorp.logoScale+")"):e.css("transform","scale(1)")};v(),o(window).scroll(v).resize(v)}}}),function(o){o(window).load(function(){siteoriginCorp.logoScale=parseFloat(siteoriginCorp.logoScale),o(".blog-layout-masonry").length&&o(".blog-layout-masonry").masonry({itemSelector:".hentry",columnWidth:".hentry"})})}(jQuery);